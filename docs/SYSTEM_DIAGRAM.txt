â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    LABOCONNECT SYSTEM ARCHITECTURE
                         Visual Diagram
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

OVERALL STRUCTURE: User â†’ Frontend â†’ Backend â†’ Database

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚                    USER / CLIENT LAYER                                      â”‚
â”‚                    (Web Browser)                                            â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  ğŸ“± Desktop / Mobile Browser                                        â”‚  â”‚
â”‚  â”‚  â”œâ”€ index.html (homepage, submit listing)                          â”‚  â”‚
â”‚  â”‚  â”œâ”€ listings.html (browse & search)                                â”‚  â”‚
â”‚  â”‚  â”œâ”€ listing-detail.html (single listing view)                      â”‚  â”‚
â”‚  â”‚  â”œâ”€ inquiries.html (real-time chat)                                â”‚  â”‚
â”‚  â”‚  â”œâ”€ admin-dashboard.html (admin panel)                             â”‚  â”‚
â”‚  â”‚  â””â”€ authModal.html (login/register popup)                          â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â”‚                                                  â”‚
â”‚                          â”‚ HTTP/HTTPS + WebSocket (Socket.IO)              â”‚
â”‚                          â”‚                                                  â”‚
â”‚                          â–¼                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  ğŸ¨ Frontend JavaScript & CSS                                       â”‚  â”‚
â”‚  â”‚  â”œâ”€ global.js (auth, header, session)                              â”‚  â”‚
â”‚  â”‚  â”œâ”€ home.js (map, listings, filters)                               â”‚  â”‚
â”‚  â”‚  â”œâ”€ admin.js (dashboard, bulk actions)                             â”‚  â”‚
â”‚  â”‚  â”œâ”€ business.js (business owner dashboard)                         â”‚  â”‚
â”‚  â”‚  â”œâ”€ global.css (responsive design)                                 â”‚  â”‚
â”‚  â”‚  â””â”€ home.css (listing cards, grid layout)                          â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  â€¢ Form validation & submission                                    â”‚  â”‚
â”‚  â”‚  â€¢ Session management (check /api/session)                         â”‚  â”‚
â”‚  â”‚  â€¢ localStorage for user state                                     â”‚  â”‚
â”‚  â”‚  â€¢ Fetch API for REST calls                                        â”‚  â”‚
â”‚  â”‚  â€¢ Socket.IO client for real-time messaging                        â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ Request/Response
                                    â”‚ (JSON, HTML, WebSocket)
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚                    BACKEND / SERVER LAYER                                   â”‚
â”‚                    (Node.js + Express)                                      â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  ğŸ”§ Express Application (server.js, port 3000)                      â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ MIDDLEWARE STACK                                             â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ express.json() [parse JSON bodies]                          â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ express.urlencoded() [parse form data]                      â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ session middleware [express-session]                        â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ multer [file upload handling]                               â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ express.static() [serve static files]                       â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ admin protection [auth check for /admin-dashboard]          â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ AUTHENTICATION & SESSION ROUTES                              â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ POST /register [create user, validate admin token]          â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ POST /login [verify credentials, set session]               â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ POST /logout [destroy session]                              â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ GET /api/session [fetch current user]                       â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ LISTINGS & APPROVALS (Core Business Logic)                   â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ POST /submit-listing [create listing, upload files]         â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ GET /admin/listings [fetch pending/approved/rejected]       â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ GET /admin/listings/:id [single listing details]            â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ POST /admin/approve-listing/:id [approve]                   â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ POST /admin/listings/:id/reject [reject]                    â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ DELETE /admin/listings/:id [delete + cleanup files]         â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ GET /admin/stats [dashboard stats]                          â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ INQUIRIES & MESSAGING (Real-time)                            â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ POST /api/inquiries [send inquiry]                          â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ GET /api/inquiries [fetch user's inquiries]                 â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ Socket.IO message events [real-time chat]                   â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ Email notifications [SendGrid / Nodemailer]                 â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ ADMIN TOKEN SYSTEM                                           â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ POST /api/admin/tokens [generate token (admin-only)]        â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ Token validation on /register [if role='admin']             â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ ROLE-BASED ACCESS CONTROL (RBAC)                             â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ 'guest' â†’ browse listings only                              â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ 'user' â†’ register, browse, send inquiries                   â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ 'business' â†’ submit listings, manage own listings           â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ 'admin' â†’ full admin dashboard, approvals, token gen        â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ FILE UPLOAD & STORAGE                                        â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ Multer processes multipart form data                        â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ Files saved to public/uploads/                              â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ Metadata stored in uploads_meta table                       â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ Static route /uploads serves files to browser               â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  âœ“ Security: Bcrypt password hashing, httpOnly session cookies             â”‚
â”‚  âœ“ Validation: Required fields, file type checks, user authorization      â”‚
â”‚  âœ“ Error Handling: Try/catch, transaction rollback on failure             â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ SQL Queries
                                    â”‚ (pg library connection pool)
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚                    DATABASE LAYER                                           â”‚
â”‚                    (PostgreSQL)                                             â”‚
â”‚                                                                             â”‚
â”‚  ğŸ—„ï¸  Database: db_4c25                                                     â”‚
â”‚  ğŸ“ Host: dpg-d4oou9idbo4c73f984rg-a.singapore-postgres.render.com        â”‚
â”‚  ğŸ”Œ Connection: pg (Node Postgres) - connection pool (min 1, max 20)      â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ TABLE: users                                                         â”‚  â”‚
â”‚  â”œâ”€ id (PK), username, email (UNIQUE), password (hashed), role         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â–²                                                  â”‚
â”‚                          â”‚ 1:N                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                       â”‚                       â”‚                     â”‚   â”‚
â”‚  â”œâ”€ listings            â”œâ”€ inquiries            â”œâ”€ messages            â”œâ”€  â”‚
â”‚  â”‚  (PK: id)            â”‚  (PK: id)             â”‚  (PK: id)            â”‚   â”‚
â”‚  â”‚  owner_id (FK)       â”‚  owner_id (FK)        â”‚  inquiry_id (FK)     â”‚   â”‚
â”‚  â”‚  status              â”‚  listing_id (FK)      â”‚  sender_user_id (FK) â”‚   â”‚
â”‚  â”‚  title               â”‚  is_read              â”‚  body                â”‚   â”‚
â”‚  â”‚  type                â”‚  created_at           â”‚  is_read             â”‚   â”‚
â”‚  â”‚  price               â”‚                       â”‚  created_at          â”‚   â”‚
â”‚  â”‚  image_url           â”‚                       â”‚                      â”‚   â”‚
â”‚  â”‚  ...docs...          â”‚                       â”‚                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Supporting Tables:                                                   â”‚  â”‚
â”‚  â”œâ”€ admin_tokens (token, created_by, used, used_by, expires_at)        â”‚  â”‚
â”‚  â”œâ”€ user_listings (user_id, listing_id) [join table]                   â”‚  â”‚
â”‚  â”œâ”€ uploads_meta (listing_id, field_name, stored_filename, ...)        â”‚  â”‚
â”‚  â”œâ”€ notification_preferences (user_id, email_new_inquiry, ...)         â”‚  â”‚
â”‚  â”œâ”€ email_logs (user_id, inquiry_id, status, sent_at, ...)            â”‚  â”‚
â”‚  â””â”€ locations (title, latitude, longitude, price, ...)                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  âœ“ Total: 10 tables                                                         â”‚
â”‚  âœ“ Foreign keys enforce referential integrity                              â”‚
â”‚  âœ“ Transactions used for critical operations (delete listing + cleanup)   â”‚
â”‚  âœ“ Indexes on frequently queried columns (status, owner_id, created_at)   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ File I/O (delete, read)
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚                    FILE SYSTEM LAYER                                        â”‚
â”‚                    (Local Disk / Server Storage)                            â”‚
â”‚                                                                             â”‚
â”‚  ğŸ“ public/uploads/                                                         â”‚
â”‚  â”œâ”€ [unique-id].png / .jpg / .jpeg / .gif [listing images]                â”‚
â”‚  â”œâ”€ [unique-id]-tax.pdf [tax documents]                                    â”‚
â”‚  â”œâ”€ [unique-id]-id.pdf [government IDs]                                    â”‚
â”‚  â””â”€ [unique-id]-doas.pdf [DOAS / other docs]                              â”‚
â”‚                                                                             â”‚
â”‚  â€¢ Files referenced by URLs in 'listings' table                            â”‚
â”‚  â€¢ Original filenames stored in 'uploads_meta' table                       â”‚
â”‚  â€¢ Cleanup: files deleted from disk when listing is deleted               â”‚
â”‚  â€¢ Access: served via static route /uploads (public, unprotected)         â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                            REQUEST/RESPONSE FLOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

EXAMPLE 1: Browse Listings
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
User clicks "Browse Listings" 
  â†“
Browser loads listings.html 
  â†“
JavaScript (home.js) calls: GET /listings (or static JSON)
  â†“
Express route handler queries: SELECT * FROM listings WHERE status='approved'
  â†“
PostgreSQL returns matching listings
  â†“
Server sends JSON response to browser
  â†“
JavaScript renders HTML with listing cards (images, prices, titles)
  â†“
Browser displays responsive grid of listings

EXAMPLE 2: Submit & Approve a Listing
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Business User fills form (title, type, price, images, docs)
  â†“
JavaScript validates, calls: POST /submit-listing (multipart/form-data)
  â†“
Multer middleware saves files to public/uploads/
  â†“
Express handler verifies: is user logged in? role = 'business'?
  â†“
Creates listing row: INSERT INTO listings (owner_id, title, ..., status='pending')
  â†“
Creates upload metadata: INSERT INTO uploads_meta (listing_id, ...)
  â†“
Returns success response to browser
  â†“
Admin views admin-dashboard â†’ clicks "Pending" tab
  â†“
JavaScript calls: GET /admin/listings?status=pending
  â†“
Express queries: SELECT * FROM listings WHERE status='pending'
  â†“
Server returns list of pending listings
  â†“
Admin reviews details, clicks "Approve"
  â†“
JavaScript calls: POST /admin/approve-listing/:id
  â†“
Express updates: UPDATE listings SET status='approved', approved=TRUE
  â†“
Listing moves from Pending to Approved tab (browser refreshes view)
  â†“
Listing now visible to public when they browse listings

EXAMPLE 3: Real-time Messaging
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Investor views listing, clicks "Send Inquiry"
  â†“
JavaScript opens inquiry form modal, submits: POST /api/inquiries
  â†“
Express creates: INSERT INTO inquiries (listing_id, first_name, email, ...)
  â†“
Sends email notification to listing owner (async job)
  â†“
Browser shows success: "Inquiry sent!"
  â†“
Listing owner receives email: "New inquiry on your listing"
  â†“
Owner clicks link â†’ views inquiries.html
  â†“
JavaScript loads inquiry thread (messages)
  â†“
Owner types reply message, hits Send
  â†“
JavaScript calls: Socket.IO emit('message', {body, inquiry_id, ...})
  â†“
Socket.IO server broadcasts to all connected clients in that inquiry
  â†“
Investor's browser receives WebSocket message in real-time
  â†“
JavaScript updates DOM with new message (no page refresh needed)
  â†“
Both parties see updated conversation in real-time

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                        TECHNOLOGY STACK SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FRONTEND (Client-side)
â”œâ”€ HTML5 (semantic markup)
â”œâ”€ CSS3 (responsive design, flexbox, grid)
â”œâ”€ Vanilla JavaScript (ES6+)
â”œâ”€ Fetch API (HTTP requests)
â”œâ”€ Socket.IO client (WebSocket)
â”œâ”€ localStorage (client-side state)
â””â”€ No frameworks (jQuery, React, Vue, Angular) â€” vanilla approach

BACKEND (Server-side)
â”œâ”€ Node.js (runtime)
â”œâ”€ Express.js (web framework)
â”œâ”€ express-session (session management)
â”œâ”€ bcryptjs (password hashing)
â”œâ”€ multer (file uploads)
â”œâ”€ pg (PostgreSQL driver)
â”œâ”€ Socket.IO (real-time messaging)
â”œâ”€ nodemailer / SendGrid (email)
â””â”€ dotenv (environment configuration)

DATABASE
â”œâ”€ PostgreSQL (relational DB)
â”œâ”€ Render.com hosted (cloud)
â”œâ”€ 10 tables with foreign keys
â”œâ”€ Connection pooling (pg library)
â””â”€ Full ACID compliance

DEPLOYMENT
â”œâ”€ Frontend: static files served by Express (or could be CDN)
â”œâ”€ Backend: Node.js server (localhost:3000 or cloud)
â”œâ”€ Database: PostgreSQL (Render.com or self-hosted)
â”œâ”€ Files: local disk (public/uploads/) or could use S3/cloud storage
â””â”€ HTTPS/SSL recommended for production

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                              TRAFFIC FLOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                        User's Browser
                             â”‚
                             â”‚ (HTTPS)
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                 â”‚
              HTTP/REST          WebSocket (Socket.IO)
         (JSON, multipart)       (real-time events)
                    â”‚                 â”‚
                    â–¼                 â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  Express        â”‚  â”‚  Socket.IO      â”‚
          â”‚  REST Routes    â”‚  â”‚  Event Handler  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                 â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                        Database Driver (pg)
                             â”‚
                             â–¼
                      PostgreSQL DB
                    (SELECT, INSERT, UPDATE, DELETE)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
END OF SYSTEM ARCHITECTURE DIAGRAM
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
