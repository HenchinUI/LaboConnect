<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Business Owner â€” Dashboard</title>
  <link rel="stylesheet" href="../css/global.css">
  <style>
    .biz-wrap{max-width:var(--container);margin:22px auto;padding:20px}
    .biz-hero{display:flex;gap:12px;flex-wrap:wrap}
    .stat{background:linear-gradient(180deg,#fff,#f7fff7);padding:16px;border-radius:10px;min-width:160px}
    .listings{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-top:18px}
    .listing-card{background:var(--card,#fff);border-radius:10px;padding:12px;box-shadow:0 8px 20px rgba(2,6,23,0.04)}
    .muted{color:var(--muted)}
    @media(max-width:980px){ .listings{grid-template-columns:repeat(2,1fr)} }
    @media(max-width:640px){ .listings{grid-template-columns:1fr} }
    /* modal */
    .biz-modal{display:none;position:fixed;inset:0;z-index:1400;align-items:center;justify-content:center;background:rgba(8,12,10,0.4)}
    .biz-modal.open{display:flex}
    .biz-modal-panel{background:#fff;border-radius:10px;padding:18px;width:100%;max-width:720px}
  </style>
</head>
<body>
  <div id="header-import"></div>

  <main class="biz-wrap">
    <h1 style="margin:0 0 12px 0">Business Owner Dashboard</h1>

    <div class="biz-hero">
      <div class="stat"><div class="muted">My Listings</div><h3 id="stat-listings">3</h3></div>
      <div class="stat"><div class="muted">Active Inquiries</div><h3 id="stat-inquiries">12</h3></div>
      <div class="stat"><div class="muted">Profile Completeness</div><h3 id="stat-profile">82%</h3></div>
      <div style="margin-left:auto;display:flex;gap:8px;align-items:center">
        <button class="btn btn-primary" onclick="openEditListing()">Create Listing</button>
        <button class="btn btn-ghost" onclick="location.href='../index.html'">Back to Site</button>
      </div>
    </div>

    <section aria-labelledby="myListings" style="margin-top:16px">
      <h2 id="myListings" style="margin:0 0 10px 0">My Listings</h2>
      <div class="listings" id="bizListings"></div>
    </section>
  </main>

  <!-- listing modal -->
  <div id="bizModal" class="biz-modal" aria-hidden="true" role="dialog">
    <div class="biz-modal-panel">
      <button style="float:right" class="btn btn-ghost" onclick="closeEditListing()">Close</button>
      <h3 id="bizModalTitle">Listing</h3>
      <form id="bizForm" onsubmit="saveListing(event)">
        <div style="display:flex;gap:10px;flex-wrap:wrap">
          <div style="flex:1;min-width:200px">
            <label class="small">Title</label>
            <input id="listingTitle" required style="width:100%;padding:8px;border-radius:8px;border:1px solid rgba(15,23,42,0.08)">
          </div>
          <div style="width:160px">
            <label class="small">Price / Size</label>
            <input id="listingPrice" style="width:100%;padding:8px;border-radius:8px;border:1px solid rgba(15,23,42,0.08)">
          </div>
        </div>
        <div style="margin-top:10px">
          <label class="small">Description</label>
          <textarea id="listingDesc" rows="4" style="width:100%;padding:8px;border-radius:8px;border:1px solid rgba(15,23,42,0.08)"></textarea>
        </div>
        <div style="margin-top:12px;text-align:right;display:flex;gap:8px;justify-content:flex-end">
          <button type="button" class="btn btn-ghost" onclick="deleteListing()">Delete</button>
          <button type="submit" class="btn btn-primary">Save</button>
        </div>
      </form>
    </div>
  </div>

  <script src="../js/global.js"></script>
  <script src="../js/business.js"></script>
</body>
</html>